select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(desc(G15))
panss %>%
select(G15) %>%
filter(G15 == "l") <- 1
panss %>%
select(G15) %>%
filter(G15 == "l") -> 1
panss %>%
select(G15) %>%
filter(G15 == "l")
panss[panss$G15 == "l"]
panss$G15 == "l"
row_number(panss$G15 == "l")
row_number(panss$G15 == "l")*panss$G15 == "l"
product(row_number(panss$G15 == "l"),panss$G15 == "l"
)
prod(row_number(panss$G15 == "l"),panss$G15 == "l")
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(desc(G15))
panss <-
panss %>%
mutate(
Q1 = if_else(G15 == "l", as.character(1), G15)
,G15 = as.integer(G15)
)
# Data ----------
panss <- read_delim("data/Panssdata.txt", delim = " ")
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(desc(G15))
panss <-
panss %>%
mutate(
G15 = if_else(G15 == "l", as.character(1), G15)
,G15 = as.integer(G15)
)
panss <-
panss %>%
mutate(
N7 = if_else(N7 == ".", NULL, N&)
,N7 = as.integer(N7)
)
panss <-
panss %>%
mutate(
N7 = if_else(N7 == ".", NULL, N7)
,N7 = as.integer(N7)
)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
# Data ----------
panss <- read_delim("data/Panssdata.txt", delim = " ")
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(desc(G15))
panss <-
panss %>%
mutate(
N7 = if_else(N7 == ".", NULL, N7)
,N7 = as.integer(N7)
)
source('~/.active-rstudio-document', echo=TRUE)
panss$N7 == "."
panss <-
panss %>%
mutate(
N7 = if_else(N7 == ".", as.character(0), N7)
,N7 = as.integer(N7)
)
panss <-
panss %>%
mutate(
G15 = if_else(G15 == "l", as.character(1), G15)
,G15 = as.integer(G15)
)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
panss %>%
select(
-c(
RATER
,LANG
)
) %>%
select_if(is.character) %>%
arrange(N7)
panss <-
panss %>%
mutate(
N7 = if_else(N7 == ".", as.character(NA), N7)
,N7 = as.integer(N7)
)
source('~/.active-rstudio-document', echo=TRUE)
panss$N&
panss$N7
panss
write_csv(x = panss, path = "data/Panssdata_modified.csv")
panss_new <- reactive(
tibble(
input$P1
,input$P2
,input$P3
,input$P4
,input$P5
,input$P6
,input$P7
,input$N1
,input$N2
,input$N3
,input$N4
,input$N5
,input$N6
,input$N7
,input$G1
,input$G2
,input$G3
,input$G4
,input$G5
,input$G6
,input$G7
,input$G8
,input$G9
,input$G10
,input$G11
,input$G12
,input$G13
,input$G14
,input$G15
,input$G16
)
)
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
tibble(P1 = c(1), P2 = c(2))
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
# Data Import ----------
panss_old <- read_csv(file = "data/Panssdata_Modified.csv")
max(panss_old$RATER) + 1
max(panss_old$RATER)
as.integer(panss_old$RATER)
runApp()
runApp()
runApp()
geom_cor <- function(data){
data %>%
select(-ID) %>%
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
data %>%
select(-ID) %>%
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
geom_cor <- function(data){
data %>%
select(-ID) %>%
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
geom_cor(panss_old)
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
geom_cor <- function(data){
data %>%
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
geom_cor <- function(data){
data %>%
cor(na.rm = TRUE) %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
geom_cor <- function(data){
data %>%
filter_all(is.na)
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
panss_old %>% filter_all(is.na())
panss_old %>% filter_all(is.na
)
panss_old %>% filter_all(any_vars(is.na))
panss_old %>% filter_all(any_vars(!is.na))
panss_old %>% filter_all(any_vars(!is.na(.)))
geom_cor <- function(data){
data %>%
filter_all(any_vars(!is.na(.)))
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
geom_cor <- function(data){
data %>%
filter_all(any_vars(!is.na(.))) %>%
cor() %>%
as.data.frame() %>%
rownames_to_column() %>%
as.tibble() %>%
gather(
key = Column
,value = Correlation
,-rowname
) %>%
rename(Row = rowname) %>%
ggplot(
aes(
x = Column
,y = Row
,fill = Correlation
)
) +
geom_raster() +
scale_fill_distiller(
type = "div"
,palette = "RdBu"
,limits = c(-1, 1)
) +
theme(
axis.text.x = element_text(angle = 90, hjust = 1)
,axis.title.x = element_blank()
,axis.title.y = element_blank()
)
}
panss_old %>% select(-RATER, -LANG) %>% geom_cor()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
