)
# panss_results <-
panss_diff %>%
transmute(
P = sum(P1:P7)
)
# panss_results <-
panss_diff %>%
mutate(
P = sum(P1:P7)
)
# panss_results <-
panss_diff %>%
select(starts_with("P"))
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = sum(P1:P7)
)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_diff
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = sum(P1:P7)
)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = sum(P1 +P7)
)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = P1 + P7
)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = sum(P1)
)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = sum(P1,P7)
)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(-"RATER")
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(-vars("RATER"))
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(vars("RATER"))
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(matches("RATER"))
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(matches("RATER"))
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
select(-matches("RATER"))
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
-vars(matches("RATER"))
,~+1
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,~+1
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,~.+1
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,.+1
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(-matches("RATER"))
,~.+2
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(-matches("RATER"))
,if_else(.== 1, 0, 10)
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,if_else(. == 1, 0, 10)
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,if_else
,. == 1, 0, 10
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
vars(matches("RATER"))
,if_else
,. == as.integer(1), 0, 10
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_at(
P1 = if_else(P1 == 1, P1 - 1, P1)
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate(
P1 = if_else(P1 == 1, P1 - 1, P1)
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
mutate(
P1 = if_else(P1 == 1, P1 - 1, P1)
)
acc_check <- function(data){if_else(data == 1, data - 1, data)}
acc_check(1)
acc_check(1:5
)
acc_check(1:5)
acc_check <- function(data){ifelse(data == 1, data - 1, data)}
acc_check(1:5)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ifelse(. == 1, . - 1, .)
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = function(ifelse(. == 1, . - 1, .))
)
# panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
# mutate_at(
#   .vars = vars(-matches("RATER"))
#   ,.funs = ~ ifelse(. == 1, . - 1, .)
# ) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_diff
View(panss_diff)
panss_diff1 <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
View(panss_diff1)
source('~/.active-rstudio-document', echo=TRUE)
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
transmute(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
)
mutate
# panss_results <-
panss_diff %>%
select(starts_with("P")) %>%
mutate(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
)
# panss_results <-
panss_diff %>%
# select(starts_with("P")) %>%
mutate(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
)
# panss_results <-
panss_diff %>%
# select(starts_with("P")) %>%
transmute(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15
)
panss_results <-
panss_diff %>%
transmute(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15
)
panss_diff1 <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
# mutate(
#   P1 = if_else(P1 == 1, P1 - 1, P1)
# )
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_results <-
panss_diff %>%
transmute(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15
)
View(panss_diff)
View(panss_results)
panss_results <-
panss_diff %>%
transmute(
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
)
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
View(panss)
View(panss_diff)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
) %>%
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. != 0, 0, 1)
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
`P Pass` = if_else(P < = )
)
panss_diff <-
as.tibble(
abs(panss_tests[, -2] - panss_rater[rep(x = 1, times = as.numeric(count(panss_tests))), -2])
) %>%
mutate_all(as.double) %>%
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. == 1, . - 1, .)
) %>%
mutate_at(
.vars = vars(-matches("RATER"))
,.funs = ~ ifelse(. != 0, 0, 1)
) %>%
left_join(
panss_tests %>%
select(RATER, LANG)
,by = "RATER"
)
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
)
View(panss_diff)
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
,`P Pass` = if_else(P >= 5, 1, 0)
,`N Pass` = if_else(N >= 5, 1, 0)
,`G Pass` = if_else(G >= 10, 1, 0)
)
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
`P Pass` = if_else(P >= 5, 1, 0)
,`N Pass` = if_else(N >= 5, 1, 0)
,`G Pass` = if_else(G >= 10, 1, 0)
)
panss_results
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
`P Pass` = if_else(P >= 5, TRUE, FALSE)
,`N Pass` = if_else(N >= 5, 1, 0)
,`G Pass` = if_else(G >= 10, 1, 0)
)
panss_results
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
`P Pass` = if_else(P >= 5, TRUE, FALSE)
,`N Pass` = if_else(N >= 5, TRUE, FALSE)
,`G Pass` = if_else(G >= 10, TRUE, FALSE)
)
View(panss_results)
panss_results <-
panss_results
panss_results
if_else(FALSE&FALSE)
if_else(FALSE&FALSE, 1, 0)
if_else(FALSE & FALSE, 1, 0)
FALSE & FALSE
&
?&
??&
TRUE &  TRUE
TRUE & FALSE
panss_results <-
panss_diff %>%
transmute(
RATER = RATER
,LANG = LANG
,P = P1 + P2 + P3 + P4 + P5 + P6 + P7
,N = N1 + N2 + N3 + N4 + N5 + N6 + N7
,G = G1 + G2 + G3 + G4 + G5 + G6 + G7 + G8 + G9 + G10 + G11 + G12 + G13 + G14 + G15 + G16
) %>%
mutate(
`P Pass` = if_else(P >= 5, TRUE, FALSE)
,`N Pass` = if_else(N >= 5, TRUE, FALSE)
,`G Pass` = if_else(G >= 10, TRUE, FALSE)
,Passes = if_else(`P Pass` & `N Pass` & `G Pass`, TRUE, FALSE)
)
panss_results
tibble(`P Pass` = FALSE, `N Pass` = FALSE, `G Pass` = FALSE)
tibble(`P Pass` = FALSE, `N Pass` = FALSE, `G Pass` = FALSE) %>%
mutate(Passes = if_else(`P Pass` & `N Pass` & `G Pass`, TRUE, FALSE))
